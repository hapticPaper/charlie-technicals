## Human-editable analysis rules.
##
## Supported indicator types:
## - sma, ema, rsi, stdev: { id, type, period, source: close }
## - macd: { id, type, fastPeriod, slowPeriod, signalPeriod, source: close }
## - atr: { id, type, period, source: bars }
## - bollingerBands: { id, type, period, stdevMult, source: close }
## - keltnerChannels: { id, type, period, atrMult, source: bars }
## - ttmSqueeze: { id, type, period, bbMult, kcMult, source: bars }
##
## Supported signal ops:
## - lt / gt: { indicator, op, value }
## - crossAbove / crossBelow (MACD-only): { indicator, op, left, right }

intervals:
  - 1m
  - 5m
  - 15m
  - 1h
  - 1d

indicators:
  - id: sma20
    type: sma
    period: 20
    source: close

  - id: ema20
    type: ema
    period: 20
    source: close

  - id: rsi14
    type: rsi
    period: 14
    source: close

  - id: macd
    type: macd
    fastPeriod: 12
    slowPeriod: 26
    signalPeriod: 9
    source: close

  - id: atr14
    type: atr
    period: 14
    source: bars

  - id: bollinger20
    type: bollingerBands
    period: 20
    stdevMult: 2
    source: close

  - id: keltner20
    type: keltnerChannels
    period: 20
    atrMult: 1.5
    source: bars

  - id: ttmSqueeze20
    type: ttmSqueeze
    period: 20
    bbMult: 2
    kcMult: 1.5
    source: bars

signals:
  - id: rsi-oversold
    label: RSI oversold (< 30)
    when:
      indicator: rsi14
      op: lt
      value: 30

  - id: rsi-overbought
    label: RSI overbought (> 70)
    when:
      indicator: rsi14
      op: gt
      value: 70

  - id: macd-bull-cross
    label: MACD bullish cross
    when:
      indicator: macd
      op: crossAbove
      left: macd
      right: signal

  - id: macd-bear-cross
    label: MACD bearish cross
    when:
      indicator: macd
      op: crossBelow
      left: macd
      right: signal
